<div id="popupContainer" ng-cloak>
    <h4>Riders I am following</h4>
    <br>
    <table ng-if="controller.followings.length > 0" class="following-table">
        <md-input-container>
            <md-icon style="color: blue">search</md-icon>
            <input class="search-bar" ng-model="search" ng-model-options="{debounce:1000}" ng-change="fetch()" placeholder="Search" width = "60"/>
        </md-input-container>
        <tr>
            <th class="following-th">Full Name</th>
            <th class="following-th">User Name</th>
        </tr>
        <tr ng-repeat="f in controller.followings | filter : search">
        <td class="following-td" ng-if="$odd" style="background-color:#f1f1f1">{{ f.fullName}}</td>
        <td class="following-td" ng-if="$even">{{ f.fullName}}</td>
        <td class="following-td" ng-if="$odd" style="background-color:#f1f1f1">{{ f.userName }}</td>
        <td class="following-td" ng-if="$even">{{ f.userName }}</td>
        <td class="following-td" ng-if="$odd" style="background-color:#f1f1f1; color:lightskyblue">{{ f.statusString }}</td>
        <td class="following-td" ng-if="$even" style="color: lightskyblue">{{ f.statusString }}</td>
        <td class="follower-td">
            <md-button ng-click="controller.removeFollowing(f.riderId)" class="rider-button md-icon-button" aria-label="Remove">
                <md-tooltip md-direction="top">Remove Following</md-tooltip>
                <md-icon style="display: unset; color:red"><i class="material-icons">cancel</i></md-icon>
            </md-button>
        </td>
        <td ng-if="controller.isAllowed(f.riderId)" class="following-td">
            <md-button ng-click="controller.locate(f.riderId)" class="rider-button md-icon-button" aria-label="Locate">
                <md-tooltip md-direction="top">Locate Rider</md-tooltip>
                <md-icon style="display: unset; color:dodgerblue"><i class="material-icons">my_location</i></md-icon>
            </md-button>
        </td>    
    </tr>
    </table>
    <p ng-if="controller.followings.length == 0">None</p>
    <br>
    <a ui-sref="FollowRequest" class="btn btn-link">
            <md-button class="md-primary md-raised">&nbsp Follow a Rider &nbsp</md-button>
    </a>
    <a ui-sref="Follower" class="btn btn-link">
        <md-button class="md-primary md-flat">&nbsp Go to Follower &nbsp</md-button>
    </a>
    <a ui-sref="HomeLoggedIn" class="btn btn-link">
        <md-button class="md-primary md-flat">Home <i class="material-icons">home</i></md-button>
    </a>
</div>
